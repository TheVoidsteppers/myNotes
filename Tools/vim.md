## Normal 模式

### 移动

- `hjkl`  →你也可以使用光标键 (←↓↑→)
- `0` → 数字零，到行头
- `^` → 到本行第一个不是blank字符的位置（所谓blank字符就是空格，tab，换行，回车等）
- `$` → 到本行行尾
- `g_` → 到本行最后一个不是blank字符的位置
- `fa` → 到下一个为a的字符处，你也可以fs到下一个为s的字符(F相反方向)
- `t,` → 到逗号前的第一个字符。逗号可以变成其它字符(T相反方向)
- `3fa` → 在当前行查找第三个出现的a
- `/pattern` *→ 搜索* `pattern` 的字符串（陈皓注：如果搜索出多个匹配，可按n键到下一个）
- ngg →  跳转到某行（也可以 : N 到第N行，如 :137 到第137行）
- n% → 按百分比转到相应的行数 
- N`G` → 到第 N 行 （g大小写均可）
- `gg` → 到第一行
- `G` → 到最后一行
- H  → 页面顶部 
- M  → 页面中部 
- L  → 页面底部
- zz → 将光标所在行调整至页面中间
- 按单词移动
  - `w` → 到下一个单词的开头、
  - `e` → 到下一个单词的结尾
- 最强的光标移动
  - `%` : 匹配括号移动，包括`(`*,* `{`*,* `[`（你需要把光标先移到括号上）
  - `*` *和* `#`:  匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（\*是下一个，#是上一个）

### 复制、剪切、粘贴

- `dd`  → 删除当前行，并把删除的行存到剪贴板里
- `p` → 粘贴剪贴板
- yy → 拷贝当前行当行于 ddP

### 删除

- dt`"` → 删除所有的内容，直到遇到双引号—— `"`

### Undo/Redo

- `u` → undo
- `<C-r>` → redo

### 重复操作

- `.` → (小数点) 可以重复上一次的命令
- N<command> → 重复某个命令N次


### 联动

`<start position><command><end position>`

```shell
# 例如 0y$ 命令意味着：

0 → 先到行头
y → 从这里开始拷贝
$ → 拷贝到本行最后一个字符
# 你可可以输入 ye，从当前位置拷贝到本单词的最后一个字符。

# 你也可以输入 y2/foo 来拷贝2个 “foo” 之间的字符串

# 还有很多时间并不一定你就一定要按y才会拷贝，下面的命令也会被拷贝：
d (删除 )
v (可视化的选择)
gU (变大写)
gu (变小写)
等等
```

### 剪切板

- `"`+y → 复制到剪切板
- `"`+p → 从剪切板粘贴

### 标记

- m<标记名称> → 定义标记。标记名称为一个字符
- `<标记名称>  → 返回标记

### 宏录制： `qa` 操作序列 `q`, `@a`, `@@`

- `qa` 把你的操作记录在寄存器 `a。`
- 于是 `@a` 会replay被录制的宏。
- `@@` 是一个快捷键用来replay最新录制的宏。

```shell
# 示例

# 在一个只有一行且这一行只有“1”的文本中，键入如下命令：

qaYp<C-a>q→
qa 开始录制
Yp 复制行.
<C-a> 增加1.
q 停止录制.
@a → 在1下面写下 2
@@ → 在2 正面写下3
# 现在做 100@@ 会创建新的100行，并把数据增加到 103.
```

## Visual 模式

- `J` → 把所有的行连接起来（变成一行）
- `<` 或 `>` → 左右缩进
- `=` → 自动给缩进 

### 区域选择

命令格式为：`<action>a<object>` 和 `<action>i<object>`

- action可以是任何的命令，如 `d` (删除), `y` (拷贝), `v` (可以视模式选择)。
- object 可能是： `w` 一个单词， `W` 一个以空格为分隔的单词， `s` 一个句字， `p` 一个段落。也可以是一个特别的字符：`"、` `'、` `)、` `}、` `]。`

```shell
# 假设你有一个字符串 `(map (+) ("foo"))`.而光标键在第一个 `o `的位置。
vi" → 会选择 foo.
va" → 会选择 "foo".
vi) → 会选择 "foo".
va) → 会选择("foo").
v2i) → 会选择 map (+) ("foo")
v2a) → 会选择 (map (+) ("foo"))
```

### 块操作:`<C-v>`

典型的操作： `0 <C-v> <C-d> I-- [ESC]`

- `^` → 到行头
- `<C-v>` → 开始块操作
- `<C-d>` → 向下移动 (你也可以使用hjkl来移动光标，或是使用%，或是别的)
- `I-- [ESC]` → I是插入，插入“`--`”，按ESC键来为每一行生效

在所有被选择的行后加上点东西：

- `<C-v>`
- 选中相关的行 (可使用 `j` 或 `<C-d>` 或是 `/pattern` 或是 `%` 等……)
- `$` 到行最后
- `A`, 输入字符串，按 `ESC。`

## Insert 模式

### 自动提示： `<C-n>` 和 `<C-p>`

你可以输入一个词的开头，然后按 `<C-p>或是<C-n>，自动补齐功能就出现了`

### 插入模式

- `a` → 在光标后插入(A 行尾插入)
- `i`  →  光标之前插入( I 行首插入)
- `o` → 下一行插入(O 上一行插入)
- `cw` → 替换从光标所在位置后到一个单词结尾的字符

### 删除

- `<C-h>` →  删除前一个字符
- `<C-w>` →  前一个单词
- `<C-u>` →  前面一行所有字符

 